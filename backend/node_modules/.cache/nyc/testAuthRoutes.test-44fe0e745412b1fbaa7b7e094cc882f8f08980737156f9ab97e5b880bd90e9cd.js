function cov_28iryjq0wq(){var path="C:\\Users\\User\\Downloads\\blog-app\\backend\\tests\\testAuthRoutes.test.js";var hash="940a85ea78e734984383dc6bdcfc9ce3acfdc724";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\User\\Downloads\\blog-app\\backend\\tests\\testAuthRoutes.test.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:28}},"1":{start:{line:2,column:17},end:{line:2,column:37}},"2":{start:{line:3,column:12},end:{line:3,column:31}},"3":{start:{line:4,column:19},end:{line:4,column:23}},"4":{start:{line:6,column:0},end:{line:6,column:19}},"5":{start:{line:8,column:21},end:{line:8,column:41}},"6":{start:{line:9,column:18},end:{line:9,column:35}},"7":{start:{line:10,column:29},end:{line:10,column:65}},"8":{start:{line:11,column:26},end:{line:11,column:55}},"9":{start:{line:12,column:0},end:{line:127,column:3}},"10":{start:{line:16,column:1},end:{line:29,column:3}},"11":{start:{line:17,column:2},end:{line:28,column:3}},"12":{start:{line:18,column:16},end:{line:22,column:6}},"13":{start:{line:24,column:4},end:{line:24,column:36}},"14":{start:{line:25,column:4},end:{line:25,column:67}},"15":{start:{line:27,column:4},end:{line:27,column:16}},"16":{start:{line:31,column:0},end:{line:44,column:3}},"17":{start:{line:32,column:2},end:{line:43,column:3}},"18":{start:{line:33,column:16},end:{line:37,column:6}},"19":{start:{line:39,column:4},end:{line:39,column:36}},"20":{start:{line:40,column:4},end:{line:40,column:117}},"21":{start:{line:42,column:4},end:{line:42,column:16}},"22":{start:{line:48,column:0},end:{line:61,column:3}},"23":{start:{line:49,column:2},end:{line:60,column:3}},"24":{start:{line:50,column:16},end:{line:54,column:6}},"25":{start:{line:56,column:4},end:{line:56,column:36}},"26":{start:{line:57,column:4},end:{line:57,column:117}},"27":{start:{line:59,column:4},end:{line:59,column:16}},"28":{start:{line:64,column:2},end:{line:76,column:5}},"29":{start:{line:65,column:16},end:{line:68,column:6}},"30":{start:{line:70,column:4},end:{line:70,column:36}},"31":{start:{line:71,column:4},end:{line:71,column:67}},"32":{start:{line:72,column:4},end:{line:72,column:40}},"33":{start:{line:75,column:4},end:{line:75,column:69}},"34":{start:{line:79,column:2},end:{line:87,column:5}},"35":{start:{line:80,column:16},end:{line:83,column:6}},"36":{start:{line:85,column:4},end:{line:85,column:36}},"37":{start:{line:86,column:4},end:{line:86,column:66}},"38":{start:{line:90,column:2},end:{line:98,column:5}},"39":{start:{line:91,column:16},end:{line:94,column:6}},"40":{start:{line:96,column:4},end:{line:96,column:36}},"41":{start:{line:97,column:4},end:{line:97,column:78}},"42":{start:{line:101,column:2},end:{line:115,column:5}},"43":{start:{line:104,column:16},end:{line:107,column:38}},"44":{start:{line:110,column:4},end:{line:110,column:52}},"45":{start:{line:113,column:4},end:{line:113,column:36}},"46":{start:{line:117,column:2},end:{line:125,column:3}},"47":{start:{line:118,column:4},end:{line:121,column:13}},"48":{start:{line:119,column:6},end:{line:119,column:49}},"49":{start:{line:120,column:6},end:{line:120,column:21}},"50":{start:{line:123,column:4},end:{line:123,column:11}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:42},end:{line:12,column:43}},loc:{start:{line:12,column:48},end:{line:127,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:16,column:47},end:{line:16,column:48}},loc:{start:{line:16,column:59},end:{line:29,column:1}},line:16},"2":{name:"(anonymous_2)",decl:{start:{line:31,column:39},end:{line:31,column:40}},loc:{start:{line:31,column:51},end:{line:44,column:1}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:36},end:{line:48,column:37}},loc:{start:{line:48,column:48},end:{line:61,column:1}},line:48},"4":{name:"(anonymous_4)",decl:{start:{line:64,column:63},end:{line:64,column:64}},loc:{start:{line:64,column:75},end:{line:76,column:3}},line:64},"5":{name:"(anonymous_5)",decl:{start:{line:79,column:80},end:{line:79,column:81}},loc:{start:{line:79,column:92},end:{line:87,column:3}},line:79},"6":{name:"(anonymous_6)",decl:{start:{line:90,column:80},end:{line:90,column:81}},loc:{start:{line:90,column:92},end:{line:98,column:3}},line:90},"7":{name:"(anonymous_7)",decl:{start:{line:101,column:52},end:{line:101,column:53}},loc:{start:{line:101,column:64},end:{line:115,column:3}},line:101},"8":{name:"(anonymous_8)",decl:{start:{line:117,column:8},end:{line:117,column:9}},loc:{start:{line:117,column:18},end:{line:125,column:1}},line:117},"9":{name:"(anonymous_9)",decl:{start:{line:118,column:15},end:{line:118,column:16}},loc:{start:{line:118,column:21},end:{line:121,column:5}},line:118}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"940a85ea78e734984383dc6bdcfc9ce3acfdc724"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_28iryjq0wq=function(){return actualCoverage;};}return actualCoverage;}cov_28iryjq0wq();const chai=(cov_28iryjq0wq().s[0]++,require("chai"));const chaiHttp=(cov_28iryjq0wq().s[1]++,require("chai-http"));const app=(cov_28iryjq0wq().s[2]++,require("../index"));// Replace with the actual path to your Express app
const{expect}=(cov_28iryjq0wq().s[3]++,chai);cov_28iryjq0wq().s[4]++;chai.use(chaiHttp);const registerPath=(cov_28iryjq0wq().s[5]++,"/api/auth/register");const loginPath=(cov_28iryjq0wq().s[6]++,"/api/auth/login");const existingUsernamePath=(cov_28iryjq0wq().s[7]++,"api/auth//check-username/:username");const existingEmailPath=(cov_28iryjq0wq().s[8]++,"api/auth/check-email/:email");cov_28iryjq0wq().s[9]++;describe("Testing Authentication Routes",()=>{cov_28iryjq0wq().f[0]++;let token;// Variable to store the authentication token for further requests
// Test case for user registration
cov_28iryjq0wq().s[10]++;it("should register a new user successfully",async()=>{cov_28iryjq0wq().f[1]++;cov_28iryjq0wq().s[11]++;try{const res=(cov_28iryjq0wq().s[12]++,await chai.request(app).post(registerPath).send({username:"luke",email:"luketankl@gmail.com",password:"123456"}));cov_28iryjq0wq().s[13]++;expect(res).to.have.status(200);cov_28iryjq0wq().s[14]++;expect(res.body).to.have.property("username").to.equal("luke");}catch(error){cov_28iryjq0wq().s[15]++;throw error;}});cov_28iryjq0wq().s[16]++;it("should handle duplicate username",async()=>{cov_28iryjq0wq().f[2]++;cov_28iryjq0wq().s[17]++;try{const res=(cov_28iryjq0wq().s[18]++,await chai.request(app).post(existingUsernamePath).send({username:"luke",email:"anotheruser@gmail.com",password:"654321"}));cov_28iryjq0wq().s[19]++;expect(res).to.have.status(400);cov_28iryjq0wq().s[20]++;expect(res.body).to.have.property("error").to.equal("Username is already in use. Please choose a new username.");}catch(error){cov_28iryjq0wq().s[21]++;throw error;}});cov_28iryjq0wq().s[22]++;it("should handle duplicate email",async()=>{cov_28iryjq0wq().f[3]++;cov_28iryjq0wq().s[23]++;try{const res=(cov_28iryjq0wq().s[24]++,await chai.request(app).post(existingEmailPath).send({username:"luke",email:"luketankl@gmail.com",password:"654321"}));cov_28iryjq0wq().s[25]++;expect(res).to.have.status(400);cov_28iryjq0wq().s[26]++;expect(res.body).to.have.property("error").to.equal("Username is already in use. Please choose a new username.");}catch(error){cov_28iryjq0wq().s[27]++;throw error;}});// Test case for user login
cov_28iryjq0wq().s[28]++;it("should login a user and return an authentication token",async()=>{cov_28iryjq0wq().f[4]++;const res=(cov_28iryjq0wq().s[29]++,await chai.request(app).post(loginPath).send({email:"luketankl@gmail.com",password:"123456"}));cov_28iryjq0wq().s[30]++;expect(res).to.have.status(200);cov_28iryjq0wq().s[31]++;expect(res.body).to.have.property("username").to.equal("luke");cov_28iryjq0wq().s[32]++;expect(res).to.have.cookie("token");// Check if the response has a 'token' cookie
// Save the token for further requests (e.g., authenticated routes)
cov_28iryjq0wq().s[33]++;token=res.headers["set-cookie"][0].split(";")[0].split("=")[1];});// Test case for user login with incorrect username
cov_28iryjq0wq().s[34]++;it("should return an error when attempting to login with incorrect username",async()=>{cov_28iryjq0wq().f[5]++;const res=(cov_28iryjq0wq().s[35]++,await chai.request(app).post(loginPath).send({email:"wrongemail@gmail.com",password:"123456"}));cov_28iryjq0wq().s[36]++;expect(res).to.have.status(404);cov_28iryjq0wq().s[37]++;expect(res.body).to.have.property('error','User not found!');});// Test case for user login with incorrect password
cov_28iryjq0wq().s[38]++;it("should return an error when attempting to login with incorrect password",async()=>{cov_28iryjq0wq().f[6]++;const res=(cov_28iryjq0wq().s[39]++,await chai.request(app).post(loginPath).send({email:"luketankl@gmail.com",password:"wrongpassword"}));cov_28iryjq0wq().s[40]++;expect(res).to.have.status(401);cov_28iryjq0wq().s[41]++;expect(res.body).to.have.property("error").to.equal("Wrong credentials!");});// Test case for refetching user information
cov_28iryjq0wq().s[42]++;it("should refetch user information after login",async()=>{cov_28iryjq0wq().f[7]++;// Assuming you have the 'token' variable containing the JWT from a successful login
const res=(cov_28iryjq0wq().s[43]++,await chai.request(app).get("/api/auth/refetch").set("Cookie",`token=${token}`));// Set the token in the 'Cookie' header
// Log the response to the console for further inspection
cov_28iryjq0wq().s[44]++;console.log("Response from Refetch:",res.body);// Your assertions based on the response
cov_28iryjq0wq().s[45]++;expect(res).to.have.status(200);// Add more assertions based on the expected response
});cov_28iryjq0wq().s[46]++;after(done=>{cov_28iryjq0wq().f[8]++;cov_28iryjq0wq().s[47]++;setTimeout(()=>{cov_28iryjq0wq().f[9]++;cov_28iryjq0wq().s[48]++;console.log("Terminating the test suite.");cov_28iryjq0wq().s[49]++;process.exit();},1000);cov_28iryjq0wq().s[50]++;done();});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjhpcnlqcTB3cSIsImFjdHVhbENvdmVyYWdlIiwiY2hhaSIsInMiLCJyZXF1aXJlIiwiY2hhaUh0dHAiLCJhcHAiLCJleHBlY3QiLCJ1c2UiLCJyZWdpc3RlclBhdGgiLCJsb2dpblBhdGgiLCJleGlzdGluZ1VzZXJuYW1lUGF0aCIsImV4aXN0aW5nRW1haWxQYXRoIiwiZGVzY3JpYmUiLCJmIiwidG9rZW4iLCJpdCIsInJlcyIsInJlcXVlc3QiLCJwb3N0Iiwic2VuZCIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInRvIiwiaGF2ZSIsInN0YXR1cyIsImJvZHkiLCJwcm9wZXJ0eSIsImVxdWFsIiwiZXJyb3IiLCJjb29raWUiLCJoZWFkZXJzIiwic3BsaXQiLCJnZXQiLCJzZXQiLCJjb25zb2xlIiwibG9nIiwiYWZ0ZXIiLCJkb25lIiwic2V0VGltZW91dCIsInByb2Nlc3MiLCJleGl0Il0sInNvdXJjZXMiOlsidGVzdEF1dGhSb3V0ZXMudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjaGFpID0gcmVxdWlyZShcImNoYWlcIik7XHJcbmNvbnN0IGNoYWlIdHRwID0gcmVxdWlyZShcImNoYWktaHR0cFwiKTtcclxuY29uc3QgYXBwID0gcmVxdWlyZShcIi4uL2luZGV4XCIpOyAvLyBSZXBsYWNlIHdpdGggdGhlIGFjdHVhbCBwYXRoIHRvIHlvdXIgRXhwcmVzcyBhcHBcclxuY29uc3QgeyBleHBlY3QgfSA9IGNoYWk7XHJcblxyXG5jaGFpLnVzZShjaGFpSHR0cCk7XHJcblxyXG5jb25zdCByZWdpc3RlclBhdGggPSBcIi9hcGkvYXV0aC9yZWdpc3RlclwiO1xyXG5jb25zdCBsb2dpblBhdGggPSBcIi9hcGkvYXV0aC9sb2dpblwiO1xyXG5jb25zdCBleGlzdGluZ1VzZXJuYW1lUGF0aCA9IFwiYXBpL2F1dGgvL2NoZWNrLXVzZXJuYW1lLzp1c2VybmFtZVwiXHJcbmNvbnN0IGV4aXN0aW5nRW1haWxQYXRoID0gXCJhcGkvYXV0aC9jaGVjay1lbWFpbC86ZW1haWxcIlxyXG5kZXNjcmliZShcIlRlc3RpbmcgQXV0aGVudGljYXRpb24gUm91dGVzXCIsICgpID0+IHtcclxuICBsZXQgdG9rZW47IC8vIFZhcmlhYmxlIHRvIHN0b3JlIHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbiBmb3IgZnVydGhlciByZXF1ZXN0c1xyXG5cclxuIC8vIFRlc3QgY2FzZSBmb3IgdXNlciByZWdpc3RyYXRpb25cclxuIGl0KFwic2hvdWxkIHJlZ2lzdGVyIGEgbmV3IHVzZXIgc3VjY2Vzc2Z1bGx5XCIsIGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgY2hhaS5yZXF1ZXN0KGFwcCkucG9zdChyZWdpc3RlclBhdGgpLnNlbmQoe1xyXG4gICAgICB1c2VybmFtZTogXCJsdWtlXCIsXHJcbiAgICAgIGVtYWlsOiBcImx1a2V0YW5rbEBnbWFpbC5jb21cIixcclxuICAgICAgcGFzc3dvcmQ6IFwiMTIzNDU2XCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDApO1xyXG4gICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KFwidXNlcm5hbWVcIikudG8uZXF1YWwoXCJsdWtlXCIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn0pO1xyXG5cclxuaXQoXCJzaG91bGQgaGFuZGxlIGR1cGxpY2F0ZSB1c2VybmFtZVwiLCBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNoYWkucmVxdWVzdChhcHApLnBvc3QoZXhpc3RpbmdVc2VybmFtZVBhdGgpLnNlbmQoe1xyXG4gICAgICB1c2VybmFtZTogXCJsdWtlXCIsXHJcbiAgICAgIGVtYWlsOiBcImFub3RoZXJ1c2VyQGdtYWlsLmNvbVwiLFxyXG4gICAgICBwYXNzd29yZDogXCI2NTQzMjFcIixcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwMCk7XHJcbiAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoXCJlcnJvclwiKS50by5lcXVhbChcIlVzZXJuYW1lIGlzIGFscmVhZHkgaW4gdXNlLiBQbGVhc2UgY2hvb3NlIGEgbmV3IHVzZXJuYW1lLlwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG5cclxuaXQoXCJzaG91bGQgaGFuZGxlIGR1cGxpY2F0ZSBlbWFpbFwiLCBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNoYWkucmVxdWVzdChhcHApLnBvc3QoZXhpc3RpbmdFbWFpbFBhdGgpLnNlbmQoe1xyXG4gICAgICB1c2VybmFtZTogXCJsdWtlXCIsXHJcbiAgICAgIGVtYWlsOiBcImx1a2V0YW5rbEBnbWFpbC5jb21cIixcclxuICAgICAgcGFzc3dvcmQ6IFwiNjU0MzIxXCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDApO1xyXG4gICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KFwiZXJyb3JcIikudG8uZXF1YWwoXCJVc2VybmFtZSBpcyBhbHJlYWR5IGluIHVzZS4gUGxlYXNlIGNob29zZSBhIG5ldyB1c2VybmFtZS5cIik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufSk7XHJcblxyXG4gIC8vIFRlc3QgY2FzZSBmb3IgdXNlciBsb2dpblxyXG4gIGl0KFwic2hvdWxkIGxvZ2luIGEgdXNlciBhbmQgcmV0dXJuIGFuIGF1dGhlbnRpY2F0aW9uIHRva2VuXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNoYWkucmVxdWVzdChhcHApLnBvc3QobG9naW5QYXRoKS5zZW5kKHtcclxuICAgICAgZW1haWw6IFwibHVrZXRhbmtsQGdtYWlsLmNvbVwiLFxyXG4gICAgICBwYXNzd29yZDogXCIxMjM0NTZcIixcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XHJcbiAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmUucHJvcGVydHkoXCJ1c2VybmFtZVwiKS50by5lcXVhbChcImx1a2VcIik7XHJcbiAgICBleHBlY3QocmVzKS50by5oYXZlLmNvb2tpZShcInRva2VuXCIpOyAvLyBDaGVjayBpZiB0aGUgcmVzcG9uc2UgaGFzIGEgJ3Rva2VuJyBjb29raWVcclxuXHJcbiAgICAvLyBTYXZlIHRoZSB0b2tlbiBmb3IgZnVydGhlciByZXF1ZXN0cyAoZS5nLiwgYXV0aGVudGljYXRlZCByb3V0ZXMpXHJcbiAgICB0b2tlbiA9IHJlcy5oZWFkZXJzW1wic2V0LWNvb2tpZVwiXVswXS5zcGxpdChcIjtcIilbMF0uc3BsaXQoXCI9XCIpWzFdO1xyXG4gIH0pO1xyXG5cclxuICAvLyBUZXN0IGNhc2UgZm9yIHVzZXIgbG9naW4gd2l0aCBpbmNvcnJlY3QgdXNlcm5hbWVcclxuICBpdChcInNob3VsZCByZXR1cm4gYW4gZXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGxvZ2luIHdpdGggaW5jb3JyZWN0IHVzZXJuYW1lXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNoYWkucmVxdWVzdChhcHApLnBvc3QobG9naW5QYXRoKS5zZW5kKHtcclxuICAgICAgZW1haWw6IFwid3JvbmdlbWFpbEBnbWFpbC5jb21cIixcclxuICAgICAgcGFzc3dvcmQ6IFwiMTIzNDU2XCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDQpO1xyXG4gICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlLnByb3BlcnR5KCdlcnJvcicsICdVc2VyIG5vdCBmb3VuZCEnKTtcclxuICB9KTtcclxuXHJcbiAgLy8gVGVzdCBjYXNlIGZvciB1c2VyIGxvZ2luIHdpdGggaW5jb3JyZWN0IHBhc3N3b3JkXHJcbiAgaXQoXCJzaG91bGQgcmV0dXJuIGFuIGVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBsb2dpbiB3aXRoIGluY29ycmVjdCBwYXNzd29yZFwiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjaGFpLnJlcXVlc3QoYXBwKS5wb3N0KGxvZ2luUGF0aCkuc2VuZCh7XHJcbiAgICAgIGVtYWlsOiBcImx1a2V0YW5rbEBnbWFpbC5jb21cIixcclxuICAgICAgcGFzc3dvcmQ6IFwid3JvbmdwYXNzd29yZFwiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoNDAxKTtcclxuICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZS5wcm9wZXJ0eShcImVycm9yXCIpLnRvLmVxdWFsKFwiV3JvbmcgY3JlZGVudGlhbHMhXCIpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBUZXN0IGNhc2UgZm9yIHJlZmV0Y2hpbmcgdXNlciBpbmZvcm1hdGlvblxyXG4gIGl0KFwic2hvdWxkIHJlZmV0Y2ggdXNlciBpbmZvcm1hdGlvbiBhZnRlciBsb2dpblwiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBBc3N1bWluZyB5b3UgaGF2ZSB0aGUgJ3Rva2VuJyB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBKV1QgZnJvbSBhIHN1Y2Nlc3NmdWwgbG9naW5cclxuXHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjaGFpXHJcbiAgICAgIC5yZXF1ZXN0KGFwcClcclxuICAgICAgLmdldChcIi9hcGkvYXV0aC9yZWZldGNoXCIpXHJcbiAgICAgIC5zZXQoXCJDb29raWVcIiwgYHRva2VuPSR7dG9rZW59YCk7IC8vIFNldCB0aGUgdG9rZW4gaW4gdGhlICdDb29raWUnIGhlYWRlclxyXG5cclxuICAgIC8vIExvZyB0aGUgcmVzcG9uc2UgdG8gdGhlIGNvbnNvbGUgZm9yIGZ1cnRoZXIgaW5zcGVjdGlvblxyXG4gICAgY29uc29sZS5sb2coXCJSZXNwb25zZSBmcm9tIFJlZmV0Y2g6XCIsIHJlcy5ib2R5KTtcclxuXHJcbiAgICAvLyBZb3VyIGFzc2VydGlvbnMgYmFzZWQgb24gdGhlIHJlc3BvbnNlXHJcbiAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDApO1xyXG4gICAgLy8gQWRkIG1vcmUgYXNzZXJ0aW9ucyBiYXNlZCBvbiB0aGUgZXhwZWN0ZWQgcmVzcG9uc2VcclxuICB9KTtcclxuXHJcbiAgYWZ0ZXIoKGRvbmUpID0+IHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlRlcm1pbmF0aW5nIHRoZSB0ZXN0IHN1aXRlLlwiKTtcclxuICAgICAgcHJvY2Vzcy5leGl0KCk7XHJcbiAgICB9LCAxMDAwKTtcclxuICBcclxuICAgIGRvbmUoKTtcclxuXHJcbn0pO1xyXG5cclxufSk7Il0sIm1hcHBpbmdzIjoieXdLQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsSUFBSSxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUM1QixLQUFNLENBQUFDLFFBQVEsRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFDckMsS0FBTSxDQUFBRSxHQUFHLEVBQUFOLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUU7QUFDakMsS0FBTSxDQUFFRyxNQUFPLENBQUMsRUFBQVAsY0FBQSxHQUFBRyxDQUFBLE1BQUdELElBQUksRUFBQ0YsY0FBQSxHQUFBRyxDQUFBLE1BRXhCRCxJQUFJLENBQUNNLEdBQUcsQ0FBQ0gsUUFBUSxDQUFDLENBRWxCLEtBQU0sQ0FBQUksWUFBWSxFQUFBVCxjQUFBLEdBQUFHLENBQUEsTUFBRyxvQkFBb0Is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